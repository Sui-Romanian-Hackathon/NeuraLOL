{"ast":null,"code":"var _jsxFileName = \"/Users/joitafabian/Documents/Kack/Priv/my-trash-app/src/components/Uploads.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { Typography, Button, Box, CircularProgress } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Uploads({\n  walletAddress,\n  requestSui\n}) {\n  _s();\n  const [selectedFile, setSelectedFile] = useState < File | null > null;\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const handleFileChange = event => {\n    if (event.target.files && event.target.files.length > 0) {\n      setSelectedFile(event.target.files[0]);\n    }\n  };\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      setMessage(\"Te rog să selectezi un fișier.\");\n      return;\n    }\n    setLoading(true);\n    setMessage(\"\");\n    try {\n      // 1. Upload pe IPFS (poți integra pinata/ipfs-http-client etc.)\n      // aici doar simulăm upload-ul:\n      const fileUrl = `https://ipfs.io/ipfs/${selectedFile.name}`;\n      console.log(\"Imagine încărcată la:\", fileUrl);\n\n      // 2. Request către faucet\n      await requestSui(walletAddress);\n      setMessage(`SUI adăugat cu succes în wallet! Imaginea este la ${fileUrl}`);\n    } catch (err) {\n      console.error(err);\n      setMessage(\"A apărut o eroare la upload sau la faucet.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      mt: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      children: \"Uploaduri\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      color: \"text.secondary\",\n      gutterBottom: true,\n      children: \"Aici po\\u021Bi ad\\u0103uga upload IPFS pentru NFT-uri.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: handleFileChange,\n      style: {\n        marginBottom: \"16px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: handleUpload,\n        disabled: loading,\n        children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 22\n        }, this) : \"Upload și adaugă SUI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(Typography, {\n      color: \"text.secondary\",\n      sx: {\n        mt: 2\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(Uploads, \"aahTtd7vobzsyrQXSpsjHR+FvKo=\");\n_c = Uploads;\nvar _c;\n$RefreshReg$(_c, \"Uploads\");","map":{"version":3,"names":["useState","Typography","Button","Box","CircularProgress","jsxDEV","_jsxDEV","Uploads","walletAddress","requestSui","_s","selectedFile","setSelectedFile","File","loading","setLoading","message","setMessage","handleFileChange","event","target","files","length","handleUpload","fileUrl","name","console","log","err","error","sx","mt","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","color","type","accept","onChange","style","marginBottom","onClick","disabled","size","_c","$RefreshReg$"],"sources":["/Users/joitafabian/Documents/Kack/Priv/my-trash-app/src/components/Uploads.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Typography, Button, Box, CircularProgress } from \"@mui/material\";\ninterface UploadsProps {\n  walletAddress: string; // adresa SUI din wallet-ul aplicației\n  requestSui: (recipient: string) => Promise<void>; // funcția care cere SUI de la faucet\n}\n\nexport default function Uploads({ walletAddress, requestSui }: UploadsProps) {\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files && event.target.files.length > 0) {\n      setSelectedFile(event.target.files[0]);\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      setMessage(\"Te rog să selectezi un fișier.\");\n      return;\n    }\n\n    setLoading(true);\n    setMessage(\"\");\n\n    try {\n      // 1. Upload pe IPFS (poți integra pinata/ipfs-http-client etc.)\n      // aici doar simulăm upload-ul:\n      const fileUrl = `https://ipfs.io/ipfs/${selectedFile.name}`;\n      console.log(\"Imagine încărcată la:\", fileUrl);\n\n      // 2. Request către faucet\n      await requestSui(walletAddress);\n      setMessage(\n        `SUI adăugat cu succes în wallet! Imaginea este la ${fileUrl}`\n      );\n    } catch (err) {\n      console.error(err);\n      setMessage(\"A apărut o eroare la upload sau la faucet.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Box sx={{ mt: 2 }}>\n      <Typography variant=\"h5\" gutterBottom>\n        Uploaduri\n      </Typography>\n      <Typography color=\"text.secondary\" gutterBottom>\n        Aici poți adăuga upload IPFS pentru NFT-uri.\n      </Typography>\n\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleFileChange}\n        style={{ marginBottom: \"16px\" }}\n      />\n\n      <Box>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleUpload}\n          disabled={loading}\n        >\n          {loading ? <CircularProgress size={24} /> : \"Upload și adaugă SUI\"}\n        </Button>\n      </Box>\n\n      {message && (\n        <Typography color=\"text.secondary\" sx={{ mt: 2 }}>\n          {message}\n        </Typography>\n      )}\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}