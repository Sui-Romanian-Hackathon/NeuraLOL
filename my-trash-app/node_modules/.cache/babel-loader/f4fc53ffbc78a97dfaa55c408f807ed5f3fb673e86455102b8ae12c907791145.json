{"ast":null,"code":"var _jsxFileName = \"/Users/joitafabian/Documents/Kack/Priv/my-trash-app/src/components/Balance.jsx\",\n  _s = $RefreshSig$();\n// src/features/balance/Balance.js\nimport { Box, Typography, CircularProgress, Button } from \"@mui/material\";\nimport { useWalletKit } from \"@mysten/wallet-kit\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { client } from \"@/lib/suiClient\"; // ← IMPORTANT: calea asta\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Balance() {\n  _s();\n  var _data$toFixed;\n  const {\n    currentWallet\n  } = useWalletKit();\n  console.log(\"Wallet conectat:\", currentWallet === null || currentWallet === void 0 ? void 0 : currentWallet.address); // vezi în consolă\n\n  const {\n    data,\n    isLoading,\n    error\n  } = useQuery({\n    queryKey: [\"balance\", currentWallet === null || currentWallet === void 0 ? void 0 : currentWallet.address],\n    queryFn: async () => {\n      const res = await client.getBalance({\n        owner: currentWallet.address,\n        coinType: \"0x2::sui::SUI\"\n      });\n      console.log(\"Răspuns raw balance:\", res); // vezi exact ce returnează\n      return Number(res.totalBalance) / 1000000000;\n    },\n    enabled: !!(currentWallet !== null && currentWallet !== void 0 && currentWallet.address),\n    retry: 3,\n    refetchInterval: 8000\n  });\n  if (!currentWallet) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"Wallet nu e conectat\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 30\n  }, this);\n  if (isLoading) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"Se \\xEEncarc\\u0103 soldul...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(Typography, {\n    color: \"error\",\n    children: [\"Eroare: \", error.message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 12\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      textAlign: \"center\",\n      py: 8\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      color: \"text.secondary\",\n      children: \"Sold curent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h1\",\n      color: \"primary\",\n      children: [(_data$toFixed = data === null || data === void 0 ? void 0 : data.toFixed(6)) !== null && _data$toFixed !== void 0 ? _data$toFixed : \"0.000000\", \" SUI\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), data < 0.1 && /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      href: \"https://faucet.sui.io\",\n      target: \"_blank\",\n      sx: {\n        mt: 3\n      },\n      children: \"Cere SUI gratuit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(Balance, \"ziacn7WmtR+MCoUtHS7mEvS5/qE=\", false, function () {\n  return [useWalletKit, useQuery];\n});\n_c = Balance;\nvar _c;\n$RefreshReg$(_c, \"Balance\");","map":{"version":3,"names":["Box","Typography","CircularProgress","Button","useWalletKit","useQuery","client","jsxDEV","_jsxDEV","Balance","_s","_data$toFixed","currentWallet","console","log","address","data","isLoading","error","queryKey","queryFn","res","getBalance","owner","coinType","Number","totalBalance","enabled","retry","refetchInterval","children","fileName","_jsxFileName","lineNumber","columnNumber","color","message","sx","textAlign","py","variant","toFixed","href","target","mt","_c","$RefreshReg$"],"sources":["/Users/joitafabian/Documents/Kack/Priv/my-trash-app/src/components/Balance.jsx"],"sourcesContent":["// src/features/balance/Balance.js\nimport { Box, Typography, CircularProgress, Button } from \"@mui/material\";\nimport { useWalletKit } from \"@mysten/wallet-kit\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { client } from \"@/lib/suiClient\"; // ← IMPORTANT: calea asta\n\nexport default function Balance() {\n  const { currentWallet } = useWalletKit();\n\n  console.log(\"Wallet conectat:\", currentWallet?.address); // vezi în consolă\n\n  const { data, isLoading, error } = useQuery({\n    queryKey: [\"balance\", currentWallet?.address],\n    queryFn: async () => {\n      const res = await client.getBalance({\n        owner: currentWallet.address,\n        coinType: \"0x2::sui::SUI\",\n      });\n      console.log(\"Răspuns raw balance:\", res); // vezi exact ce returnează\n      return Number(res.totalBalance) / 1_000_000_000;\n    },\n    enabled: !!currentWallet?.address,\n    retry: 3,\n    refetchInterval: 8000,\n  });\n\n  if (!currentWallet) return <Typography>Wallet nu e conectat</Typography>;\n  if (isLoading) return <Typography>Se încarcă soldul...</Typography>;\n  if (error)\n    return <Typography color=\"error\">Eroare: {error.message}</Typography>;\n\n  return (\n    <Box sx={{ textAlign: \"center\", py: 8 }}>\n      <Typography variant=\"h5\" color=\"text.secondary\">\n        Sold curent\n      </Typography>\n      <Typography variant=\"h1\" color=\"primary\">\n        {data?.toFixed(6) ?? \"0.000000\"} SUI\n      </Typography>\n\n      {data < 0.1 && (\n        <Button\n          variant=\"contained\"\n          href=\"https://faucet.sui.io\"\n          target=\"_blank\"\n          sx={{ mt: 3 }}\n        >\n          Cere SUI gratuit\n        </Button>\n      )}\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}