{"ast":null,"code":"var _jsxFileName = \"/Users/joitafabian/Documents/Kack/Priv/my-trash-app/src/components/Balance.jsx\",\n  _s = $RefreshSig$();\n// src/components/Balance.jsx\nimport { Box, Typography, CircularProgress, Button } from \"@mui/material\";\nimport { useWalletKit } from \"@mysten/wallet-kit\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { client } from \"../services/suiClient\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Balance() {\n  _s();\n  var _data$toFixed;\n  const {\n    currentWallet\n  } = useWalletKit();\n  const {\n    data,\n    isLoading,\n    error,\n    refetch\n  } = useQuery({\n    queryKey: [\"balance\", currentWallet === null || currentWallet === void 0 ? void 0 : currentWallet.address],\n    queryFn: async () => {\n      console.log(\"Încerc să citesc soldul pentru:\", currentWallet === null || currentWallet === void 0 ? void 0 : currentWallet.address);\n      const res = await client.getBalance({\n        owner: currentWallet.address,\n        coinType: \"0x2::sui::SUI\"\n      });\n      console.log(\"Răspuns raw de la blockchain:\", res);\n      return Number(res.totalBalance) / 1000000000;\n    },\n    enabled: !!(currentWallet !== null && currentWallet !== void 0 && currentWallet.address),\n    retry: 5,\n    retryDelay: 1000,\n    refetchInterval: 5000,\n    // refresh la fiecare 5 secunde\n    refetchOnWindowFocus: true\n  });\n  if (!currentWallet) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"Conecteaz\\u0103 wallet-ul\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 30\n  }, this);\n  if (isLoading) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"Se \\xEEncarc\\u0103 soldul...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(Typography, {\n    color: \"error\",\n    children: [\"Eroare: \", error.message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 12\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      textAlign: \"center\",\n      py: 8\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      color: \"text.secondary\",\n      gutterBottom: true,\n      children: \"Sold curent (Testnet)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h1\",\n      color: \"primary\",\n      sx: {\n        fontWeight: \"bold\"\n      },\n      children: [(_data$toFixed = data === null || data === void 0 ? void 0 : data.toFixed(6)) !== null && _data$toFixed !== void 0 ? _data$toFixed : \"0.000000\", \" SUI\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      onClick: () => refetch(),\n      sx: {\n        mt: 3\n      },\n      children: \"Refresh manual\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), data < 1 && /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"success\",\n      href: \"https://faucet.sui.io\",\n      target: \"_blank\",\n      sx: {\n        mt: 2,\n        ml: 2\n      },\n      children: \"Cere 10 SUI gratuit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(Balance, \"/V0g+S1CTyBpnSb0Q6QZM8iSMXo=\", false, function () {\n  return [useWalletKit, useQuery];\n});\n_c = Balance;\nvar _c;\n$RefreshReg$(_c, \"Balance\");","map":{"version":3,"names":["Box","Typography","CircularProgress","Button","useWalletKit","useQuery","client","jsxDEV","_jsxDEV","Balance","_s","_data$toFixed","currentWallet","data","isLoading","error","refetch","queryKey","address","queryFn","console","log","res","getBalance","owner","coinType","Number","totalBalance","enabled","retry","retryDelay","refetchInterval","refetchOnWindowFocus","children","fileName","_jsxFileName","lineNumber","columnNumber","color","message","sx","textAlign","py","variant","gutterBottom","fontWeight","toFixed","onClick","mt","href","target","ml","_c","$RefreshReg$"],"sources":["/Users/joitafabian/Documents/Kack/Priv/my-trash-app/src/components/Balance.jsx"],"sourcesContent":["// src/components/Balance.jsx\nimport { Box, Typography, CircularProgress, Button } from \"@mui/material\";\nimport { useWalletKit } from \"@mysten/wallet-kit\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { client } from \"../services/suiClient\";\n\nexport default function Balance() {\n  const { currentWallet } = useWalletKit();\n\n  const { data, isLoading, error, refetch } = useQuery({\n    queryKey: [\"balance\", currentWallet?.address],\n    queryFn: async () => {\n      console.log(\"Încerc să citesc soldul pentru:\", currentWallet?.address);\n      const res = await client.getBalance({\n        owner: currentWallet.address,\n        coinType: \"0x2::sui::SUI\",\n      });\n      console.log(\"Răspuns raw de la blockchain:\", res);\n      return Number(res.totalBalance) / 1_000_000_000;\n    },\n    enabled: !!currentWallet?.address,\n    retry: 5,\n    retryDelay: 1000,\n    refetchInterval: 5000, // refresh la fiecare 5 secunde\n    refetchOnWindowFocus: true,\n  });\n\n  if (!currentWallet) return <Typography>Conectează wallet-ul</Typography>;\n  if (isLoading) return <Typography>Se încarcă soldul...</Typography>;\n  if (error)\n    return <Typography color=\"error\">Eroare: {error.message}</Typography>;\n\n  return (\n    <Box sx={{ textAlign: \"center\", py: 8 }}>\n      <Typography variant=\"h5\" color=\"text.secondary\" gutterBottom>\n        Sold curent (Testnet)\n      </Typography>\n      <Typography variant=\"h1\" color=\"primary\" sx={{ fontWeight: \"bold\" }}>\n        {data?.toFixed(6) ?? \"0.000000\"} SUI\n      </Typography>\n\n      <Button variant=\"outlined\" onClick={() => refetch()} sx={{ mt: 3 }}>\n        Refresh manual\n      </Button>\n\n      {data < 1 && (\n        <Button\n          variant=\"contained\"\n          color=\"success\"\n          href=\"https://faucet.sui.io\"\n          target=\"_blank\"\n          sx={{ mt: 2, ml: 2 }}\n        >\n          Cere 10 SUI gratuit\n        </Button>\n      )}\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}