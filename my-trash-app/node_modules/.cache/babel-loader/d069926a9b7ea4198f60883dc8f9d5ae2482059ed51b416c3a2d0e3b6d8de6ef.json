{"ast":null,"code":"var _jsxFileName = \"/Users/joitafabian/Documents/Kack/Priv/my-trash-app/src/components/Balance.jsx\",\n  _s = $RefreshSig$();\n// src/components/Balance.jsx  (sau unde îl ai tu)\nimport { Box, Typography, CircularProgress, Button, Alert } from \"@mui/material\";\nimport { useWalletKit } from \"@mysten/wallet-kit\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { client } from \"../../lib/suiClient\"; // ← dacă ai jsconfig.json\n// import { client } from \"../lib/suiClient\";   // ← dacă nu ai jsconfig\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Balance() {\n  _s();\n  var _data$toFixed;\n  const {\n    currentWallet\n  } = useWalletKit();\n  const {\n    data,\n    isLoading,\n    error,\n    isFetching\n  } = useQuery({\n    queryKey: [\"balance\", currentWallet === null || currentWallet === void 0 ? void 0 : currentWallet.address],\n    queryFn: async () => {\n      if (!(currentWallet !== null && currentWallet !== void 0 && currentWallet.address)) throw new Error(\"No wallet\");\n      const res = await client.getBalance({\n        owner: currentWallet.address,\n        coinType: \"0x2::sui::SUI\"\n      });\n      return Number(res.totalBalance) / 1000000000;\n    },\n    enabled: !!(currentWallet !== null && currentWallet !== void 0 && currentWallet.address),\n    retry: 3,\n    retryDelay: 1000,\n    refetchInterval: 8000,\n    // foarte important!\n    refetchOnWindowFocus: true\n  });\n\n  // DEBUG – vezi în consolă ce se întâmplă\n  console.log(\"Wallet:\", currentWallet === null || currentWallet === void 0 ? void 0 : currentWallet.address);\n  console.log(\"Balance data:\", data);\n  console.log(\"Loading:\", isLoading, \"Fetching:\", isFetching);\n  if (!currentWallet) {\n    return /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"warning\",\n      children: \"Conecteaz\\u0103 wallet-ul\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 12\n    }, this);\n  }\n  if (isLoading || isFetching) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: \"center\",\n        py: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          mt: 2\n        },\n        children: \"Se \\xEEncarc\\u0103 soldul...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      children: [\"Eroare: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 12\n    }, this);\n  }\n  const sui = (_data$toFixed = data === null || data === void 0 ? void 0 : data.toFixed(6)) !== null && _data$toFixed !== void 0 ? _data$toFixed : \"0.000000\";\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      textAlign: \"center\",\n      py: 8\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      color: \"text.secondary\",\n      gutterBottom: true,\n      children: \"Sold curent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h1\",\n      color: \"primary\",\n      sx: {\n        fontWeight: \"bold\"\n      },\n      children: [sui, \" SUI\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), data < 0.5 && /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"success\",\n      size: \"large\",\n      href: \"https://faucet.sui.io\",\n      target: \"_blank\",\n      sx: {\n        mt: 4\n      },\n      children: \"Cere 10 SUI gratuit (Testnet)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(Balance, \"nR4Sa1sMrg4uWFgoMJE/l3Z1Ccc=\", false, function () {\n  return [useWalletKit, useQuery];\n});\n_c = Balance;\nvar _c;\n$RefreshReg$(_c, \"Balance\");","map":{"version":3,"names":["Box","Typography","CircularProgress","Button","Alert","useWalletKit","useQuery","client","jsxDEV","_jsxDEV","Balance","_s","_data$toFixed","currentWallet","data","isLoading","error","isFetching","queryKey","address","queryFn","Error","res","getBalance","owner","coinType","Number","totalBalance","enabled","retry","retryDelay","refetchInterval","refetchOnWindowFocus","console","log","severity","children","fileName","_jsxFileName","lineNumber","columnNumber","sx","textAlign","py","mt","message","sui","toFixed","variant","color","gutterBottom","fontWeight","size","href","target","_c","$RefreshReg$"],"sources":["/Users/joitafabian/Documents/Kack/Priv/my-trash-app/src/components/Balance.jsx"],"sourcesContent":["// src/components/Balance.jsx  (sau unde îl ai tu)\nimport {\n  Box,\n  Typography,\n  CircularProgress,\n  Button,\n  Alert,\n} from \"@mui/material\";\nimport { useWalletKit } from \"@mysten/wallet-kit\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { client } from \"../../lib/suiClient\"; // ← dacă ai jsconfig.json\n// import { client } from \"../lib/suiClient\";   // ← dacă nu ai jsconfig\n\nexport default function Balance() {\n  const { currentWallet } = useWalletKit();\n\n  const { data, isLoading, error, isFetching } = useQuery({\n    queryKey: [\"balance\", currentWallet?.address],\n    queryFn: async () => {\n      if (!currentWallet?.address) throw new Error(\"No wallet\");\n      const res = await client.getBalance({\n        owner: currentWallet.address,\n        coinType: \"0x2::sui::SUI\",\n      });\n      return Number(res.totalBalance) / 1_000_000_000;\n    },\n    enabled: !!currentWallet?.address,\n    retry: 3,\n    retryDelay: 1000,\n    refetchInterval: 8000, // foarte important!\n    refetchOnWindowFocus: true,\n  });\n\n  // DEBUG – vezi în consolă ce se întâmplă\n  console.log(\"Wallet:\", currentWallet?.address);\n  console.log(\"Balance data:\", data);\n  console.log(\"Loading:\", isLoading, \"Fetching:\", isFetching);\n\n  if (!currentWallet) {\n    return <Alert severity=\"warning\">Conectează wallet-ul</Alert>;\n  }\n\n  if (isLoading || isFetching) {\n    return (\n      <Box sx={{ textAlign: \"center\", py: 8 }}>\n        <CircularProgress />\n        <Typography sx={{ mt: 2 }}>Se încarcă soldul...</Typography>\n      </Box>\n    );\n  }\n\n  if (error) {\n    return <Alert severity=\"error\">Eroare: {error.message}</Alert>;\n  }\n\n  const sui = data?.toFixed(6) ?? \"0.000000\";\n\n  return (\n    <Box sx={{ textAlign: \"center\", py: 8 }}>\n      <Typography variant=\"h5\" color=\"text.secondary\" gutterBottom>\n        Sold curent\n      </Typography>\n      <Typography variant=\"h1\" color=\"primary\" sx={{ fontWeight: \"bold\" }}>\n        {sui} SUI\n      </Typography>\n\n      {data < 0.5 && (\n        <Button\n          variant=\"contained\"\n          color=\"success\"\n          size=\"large\"\n          href=\"https://faucet.sui.io\"\n          target=\"_blank\"\n          sx={{ mt: 4 }}\n        >\n          Cere 10 SUI gratuit (Testnet)\n        </Button>\n      )}\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}